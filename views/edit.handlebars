<div class="container">
  <form
    action="/restaurants/{{restaurant._id}}?_method=PUT"
    method="POST"
    id="edit-form"
  >
    <div class="mb-2">
      <label for="name" class="form-label">Name</label>
      <input
        type="text"
        class="form-control"
        id="name"
        name="name"
        value="{{restaurant.name}}"
        required
      />
    </div>
    <div class="mb-2">
      <label for="name_en" class="form-label">English Name</label>
      <input
        type="text"
        class="form-control"
        id="name_en"
        name="name_en"
        value="{{restaurant.name_en}}"
      />
    </div>
    <div class="mb-2">
      <label for="category" class="form-label">Category</label>
      <input
        type="text"
        class="form-control"
        id="category"
        list="categoryOptions"
        name="category"
        value="{{restaurant.category}}"
        required
      />
      {{! 使用datalist，讓使用者可選擇或自行輸入 }}
      <datalist id="categoryOptions">
        <option>美式</option>
        <option>咖啡</option>
        <option>中東料理</option>
        <option>日本料理</option>
        <option>義式餐廳</option>
      </datalist>
    </div>
    <div class="mb-2">
      <label for="image" class="form-label">Image URL</label>
      <input
        type="url"
        class="form-control"
        id="image"
        name="image"
        value="{{restaurant.image}}"
        required
      />
    </div>
    <div class="mb-2">
      <label for="location" class="form-label">Location</label>
      <input
        type="text"
        class="form-control"
        id="location"
        name="location"
        value="{{restaurant.location}}"
      />
    </div>
    <div class="mb-2">
      <label for="phone" class="form-label">Phone Number</label>
      <input
        type="tel"
        class="form-control"
        id="phone"
        name="phone"
        pattern="[0-9]{2} [0-9]{4} [0-9]{4}"
        placeholder="02 0000 0000"
        value="{{restaurant.phone}}"
      />
      <div class="invalid-feedback">
        Please provide valid phone number like 00 0000 0000
      </div>
    </div>
    <div class="mb-2">
      <label for="google_map" class="form-label">Google Map URL</label>
      <input
        type="url"
        class="form-control"
        id="google_map"
        name="google_map"
        value="{{restaurant.google_map}}"
      />
    </div>
    <div class="mb-2">
      <label for="rating" class="form-label">Rating</label>
      <input
        type="number"
        class="form-control"
        id="rating"
        name="rating"
        min="0"
        max="5"
        step="0.1"
        value="{{restaurant.rating}}"
        required
      />
    </div>
    <div class="mb-2">
      <label for="description" class="form-label">Description</label>
      <textarea
        name="description"
        class="form-control"
        id="description"
        cols="30"
        rows="10"
      >{{restaurant.description}}</textarea>
    </div>
    <button type="submit" id="edit-button">Save</button>
    <a href="/" class="text-secondary">Back</a>
  </form>
</div>

{{! 按鈕監聽器 }}
<script>
  const submitButton = document.querySelector("#edit-button"); const form =
  document.querySelector("#edit-form"); submitButton.addEventListener("click",
  function onSubmitButtonClicked(event) { console.log(event.target)
  form.classList.add("was-validated"); });
</script>